<h1>Feed</h1>

<!-- Map -->
<%= render :partial => 'info/feeds/info_source_table', :locals => {:options => {:feed => @feed}} -%>

<!-- Info -->
<table>
  <tr>
    <td class="key" title="The user who makes this feed based on the current email address in the XML">makes</td>
    <td><%= info_user_link(@feed.owner) -%></td>
  </tr>

  <tr>
    <td class="key" title="The user who added this feed, if any">found</td>
    <td><%= info_user_link(@feed.finder) -%></td>
  </tr>

  <tr>
    <td class="key" title="iTunes ID set by the user in LimeCast Edit">itunes</td>
    <td><%= non_blank @feed.itunes_link -%></td>
  </tr>

  <tr>
    <td class="key" title="Linked RSS address">rss</td>
    <td><%= link_to(@feed.url) -%></td>
  </tr>

  <tr>
    <td class="key" title="Link to LimeCast-produced feed remixed with magnet links">magnet</td>
    <td><%= link_to(magnet_feed_url(@feed)) -%></td>
  </tr>

  <tr>
    <td class="key" title="Link to LimeCast-produced feed remixed with torrents">torrent</td>
    <td><%= link_to(torrent_feed_url(@feed)) -%></td>
  </tr>

  <tr><td colspan="2">&nbsp;<!-- section divider //--></td></tr>

  <tr>
    <td class="key" title="When the site last downloaded and parsed this feed">updated</td>
    <td><%= non_blank relative_time(@feed.updated_at, true) -%></td>
  </tr>

  <tr>
    <td class="key" title="The ability version number that downloaded and parsed this feed">ability</td>
    <td><%= non_blank @feed.ability -%></td>
  </tr>

  <tr><td colspan="2">&nbsp;<!-- section divider //--></td></tr>

  <tr>
    <td class="key" title="Cover art in all the different sizes shown inline">cover</td>
    <td>
    <% [:large, :small, :square, :icon, :thumb].each do |size| -%>
      <%= @feed.podcast.logo && @feed.podcast.logo.file? ? image_tag(@feed.podcast.logo(size)) : blankness -%>
    <% end -%>
    </td>
  </tr>

  <tr><td colspan="2">&nbsp;<!-- section divider //--></td></tr>

  <tr>
    <td class="key" title="Link anchor for the page, shortened and formatted, linked to the podcaster's website">site</td>
    <td><%= link_to_podcast_home(@feed.podcast) -%></td>
  </tr>

  <tr><td colspan="2">&nbsp;<!-- section divider //--></td></tr>

  <tr>
    <td class="key" title="Podcast description sanitized and formatted to a single line of text for summary display. Runs multiple paragraphs together and doesn't allow links, formatting, or any other HTML.">feed&nbsp;description&nbsp;line</td>
    <td>
      <%= non_blank line_description(@feed.description), false %>
    </td>
  </tr>

  <tr><td colspan="2">&nbsp;<!-- section divider //--></td></tr>

  <tr>
    <td class="key" title="Podcast description sanitized and formatted for page display. Allows multiple paragraphs and links, but removes HTML formatting.">feed&nbsp;description&nbsp;page</td>
    <td>
      <%= non_blank page_description(@feed.description), false %>
    </td>
  </tr>

  <tr><td colspan="2">&nbsp;<!-- section divider //--></td></tr>

  <tr>
    <td class="key" title="The HTML behind feed description page">feed&nbsp;description&nbsp;page&nbsp;source</td>
    <td>
      <%= non_blank @feed.description %>
    </td>
  </tr>
</table>

<!-- XML -->
<pre class="formatted-xml">
<%=h @feed.diagnostic_xml %>
</pre>
